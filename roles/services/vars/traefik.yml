---
traefik:
  name: traefik
  image: traefik
  env:
    TZ: "{{ TZ }}"
    PUID: "{{ PUID | string }}"
    PGID: "{{ PGID | string }}"
  ports:
    - "80:80"
    - "8080:8080"
    - "443:443"
  command:
    # Enables the web UI and tells Traefik to listen to docker
    - "--api.insecure=true"
    - "--api.dashboard=true"
  volumes:
    # So that Traefik can listen to the Docker events
    - /var/run/docker.sock:/var/run/docker.sock
    - "{{ services_configs_path }}/traefik:/etc/traefik"
  labels:
    traefik.enabled: "true"
